---
layout: post
title: Debugging Windows Phone 7 device network access with just a laptop
date: '2011-05-17T20:24:00.001+02:00'
author: Joost van Schaik
tags:
- Debugging
- dotnetmag
- WP7NL
- Windows Phone 7
- WP7
modified_time: '2011-05-17T20:24:26.974+02:00'
thumbnail: http://lh5.ggpht.com/_QXPoKuE9q6k/TdK9UjDQ4-I/AAAAAAAAGa4/S6iy7QiS6I0/s72-c/Connectify_thumb%5B1%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-5828670753173478907
blogger_orig_url: https://dotnetbyexample.blogspot.com/2011/05/debugging-windows-phone-7-device.html
---

<p>It’s a strange world. Today I needed to debug an iPad’s web traffic, and ended up getting instructions from the Dutch <a href="http://www.microsoft.com/windowsphone/en-us/default.aspx" target="_blank">Windows Phone 7</a> DPE <a href="http://twitter.com/#!/mahoekst" target="_blank">Matthijs Hoekstra</a>. To dry run the solution I tried hooking up my own Windows Phone 7 an so was able to see Birdsong actually sending and downloading messages.</p>  <p>Now there are numerous sources around the internet describing what you should do to get this far but most only show pieces of the puzzle, so I decided to do a quick write-up on how to do this for Windows Phone 7.</p>  <p><font size="4">Prerequisites </font></p>  <ul>   <li>One laptop running Windows 7 with a WiFi card. I used a HP Probook 4720s </li>    <li><a href="http://download.cnet.com/Connectify/3000-18508_4-75024171.html?part=dl-10061477&amp;subj=dl&amp;tag=button" target="_blank">Connectify</a> </li>    <li><a href="http://www.getfiddler.com/dl/Fiddler2Setup.exe" target="_blank">Fiddler2</a> </li>    <li>One Windows Phone 7 device (duh) </li> </ul>  <p>Make sure you laptop has internet connectivity, either by WiFi or by cable. </p>  <p><font size="4">Install and configure Connectify</font></p>  <p>Download and install Connectify. Now installing this might be a little scary – it wants to install an unverified driver, and the first time I tried it the install got stuck, I had no network connectivity anymore, rebooted, uninstalled Connectify and then painlessly re-installed. </p>  <p><a href="http://lh3.ggpht.com/_QXPoKuE9q6k/TdK9T5RtnLI/AAAAAAAAGa0/HJ19EjXGeXw/s1600-h/Connectify%5B3%5D.png"><img style="background-image: none; border-right-width: 0px; margin: 0px 6px 0px 0px; padding-left: 0px; padding-right: 0px; display: inline; float: left; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Connectify" border="0" alt="Connectify" align="left" src="http://lh5.ggpht.com/_QXPoKuE9q6k/TdK9UjDQ4-I/AAAAAAAAGa4/S6iy7QiS6I0/Connectify_thumb%5B1%5D.png?imgmax=800" width="240" height="385" /></a>Anyway, it comes with a simple wizard, that asks you for a network name, as password, a connection to share. Connectify runs in the system tray and if you click on it, it pops up like this showed left.</p>  <p>You can see that my WiFi card now is used by the laptop itself to connect to the internet and as hotspot as well :-). But I could just as easily share a cabled internet connection (as I did this afternoon at my work). You can even see my hotspot’s password, so now you can steal my internet connection when you are in the neighborhood and I leave Connectify running (and then still it gives a bubble notification saying someone connected).</p>  <p>Your Windows Phone 7 can now already share your laptop’s WiFi connection – if you go to Settings/WiFi you can already see the network showing up. As you can see on the image my HTC 7 Pro has connected to it successfully</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p><font size="4">Install and configure Fiddler</font></p>  <p>Just install Fiddler the usual way, but then click Tools/Fiddler options and click tab “Connections”. Right under the box “Fiddler listens on port 8888” there’s a checkbox “Allow remote computers to connect”. Tick that one. close down Fiddler, start it again, and this will bring a Windows Firewall check box to your screen. Check all three checkboxes, and click “Allow Acces”. </p>  <p><font size="4"><a href="http://lh5.ggpht.com/_QXPoKuE9q6k/TdK9VA-yAbI/AAAAAAAAGa8/hr9YpGbW2k8/s1600-h/IMG_8515%5B5%5D.jpg"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: right; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="IMG_8515" border="0" alt="IMG_8515" align="right" src="http://lh6.ggpht.com/_QXPoKuE9q6k/TdK9ViwVtNI/AAAAAAAAGbA/ef4DoBNZkaY/IMG_8515_thumb%5B2%5D.jpg?imgmax=800" width="193" height="351" /></a>Configure your Windows Phone 7</font></p>  <p>Pick up your phone, again, go to Settings/WiFi, connect to the Connectify network if you have not already done so, using the password you picked for it. As the phone is connected, tap your network, locate the “proxy” toggle, click it, use <em>your laptops’ name </em>as proxy and port 8888 as port, and you are done. Note – both my access point and my laptop are called “JSC7”, but they could be different. Always use your computers’<em> name</em> for proxy.</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p>&#160;</p>  <p><font size="4">Done</font><font size="4"></font></p>  <p>You can now spy on your Windows Phone 7’s network. I fired up Birdsong and saw it actually do something<a href="http://lh3.ggpht.com/_QXPoKuE9q6k/TdK9WAYk9cI/AAAAAAAAGbE/KQtIH_ZWXdw/s1600-h/fiddler%5B5%5D.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="fiddler" border="0" alt="fiddler" src="http://lh5.ggpht.com/_QXPoKuE9q6k/TdK9WlGwl9I/AAAAAAAAGbI/RLAZxlGAC8I/fiddler_thumb%5B3%5D.png?imgmax=800" width="626" height="244" /></a></p>  <p><font size="4">Some final words</font></p>  <p>If you have an access point handy, you might skip the whole Connectify stuff, just define your PC as a proxy for that network in your Windows Phone 7 settings and only configure and fire up Fiddler on that PC. But I did not have a wireless AP I could connect my Windows Phone 7 to so I had to resort to Connectify.</p>  <p>Oh by the way, this works for a iPad as well :-) </p>  