---
layout: post
title: A HoloLens airplane tracker 8–adding the church and the billboard
date: '2016-11-19T21:10:00.000+01:00'
orgauthor: Joost van Schaik
tags:
- UWP
- HoloLens
- Unity3D
modified_time: '2016-11-20T21:19:59.402+01:00'
thumbnail: https://lh3.googleusercontent.com/-L8_Mjs4QdcU/WDCxi-Q4CsI/AAAAAAAAOcA/aCy9WJ1uC48/s72-c/image_thumb%25255B9%25255D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-2046027210015051092
blogger_orig_url: https://dotnetbyexample.blogspot.com/2016/11/a-hololens-airplane-tracker-8adding.html
comment_issue_id: 270
---

<h2>Intro</h2> <p>All the code to track aircraft in a HoloLens is already yours. Now the only thing I have left to write is how the <a href="http://www.wortell.nl/" target="_blank">Wortell</a> Church and the billboard that appears on the map came to be. It’s not technically a part of the aircraft tracker per se, but a fun exercise in code that you might use if your company is near an airport too.</p> <h2>Required assets</h2> <p>We need two things: </p> <ul> <li>A Church  <li>A Billboard (and a logo to put on it)</li></ul> <h2>Getting and importing the church</h2> <p>This was actually the hardest one. It turns on that there are lots of churches on <a href="https://www.cgtrader.com/">cgtrader</a>, but if you download for instance <a href="https://www.cgtrader.com/free-3d-models/architectural-exterior/historic/church-in-vasteras--2">this church</a> as FBX or OBJ and import it into Unity, you don’t get the promised church on the left– you get the ghost thing on the right! </p> <p><a href="https://lh3.googleusercontent.com/-eNiLtzANBNQ/WDCxijILlCI/AAAAAAAAOb8/UQjfEw0qSi8/s1600-h/image%25255B16%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-L8_Mjs4QdcU/WDCxi-Q4CsI/AAAAAAAAOcA/aCy9WJ1uC48/image_thumb%25255B9%25255D.png?imgmax=800" width="221" align="right" height="334"></a></p><a href="https://lh3.googleusercontent.com/-qL3VaZjFid8/WDCxjUI6VCI/AAAAAAAAOcE/-SHj00kOj14/s1600-h/image%25255B13%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/--oHSNhvj9tA/WDCxj3vkPZI/AAAAAAAAOcI/xwEdq9Z5Xh4/image_thumb%25255B6%25255D.png?imgmax=800" width="304" height="334"></a>  <p>As one of my colleagues - who lived in the UK for a long time before joining us - would put it: “<a href="https://twitter.com/SoVeryBritish/status/517736334841352192">it’s not quite what I had in mind</a>”. And this one actually looks quite good – I have seen churches with not only textures but complete parts missing. Apparently not everyone checks the result of every format they convert to before uploading. Fortunately, the author writes he or she has created the model in Sketchup. Ain’t that nice, as you can <a href="http://www.sketchup.com/download">download a free trial version</a> of that program. So download that – and the original Sketchup model. Unpack the zip file, and rename the 3d-model.skp that’s in there to church.skp. Then double-click from the explorer and Sketchup will open, after possibly asking you about trial licensing first. I had to zoom out a little, but this is what I got</p> <p><a href="https://lh3.googleusercontent.com/-gypMyH3PKwk/WDCxkTm__0I/AAAAAAAAOcM/7Pz5XZylAUo/s1600-h/image%25255B21%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ovm9wU7TFwo/WDCxkrxYf1I/AAAAAAAAOcQ/ld8WmnkmhjU/image_thumb%25255B12%25255D.png?imgmax=800" width="654" height="354"></a></p> <p><a href="https://lh3.googleusercontent.com/-yLBIa7kbxvw/WDCxlLifW-I/AAAAAAAAOcU/ef_Lv75VCMM/s1600-h/image%25255B32%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-N2sH_nwiZww/WDCxljYmXBI/AAAAAAAAOcY/KP0vY36TTHM/image_thumb%25255B16%25255D.png?imgmax=800" width="304" align="right" height="62"></a>And that was indeed what I had in mind. Now hit File/Export/3D model, select FBX file (*.fbx) for “Save as “type”, choose a name that suits you and hit save</p> <p>If you would import the resulting church.fbx into Unity you get this: </p> <p><a href="https://lh3.googleusercontent.com/-hwT7DQJ9mts/WDCxmP80k_I/AAAAAAAAOcc/AoqqonFQapo/s1600-h/image%25255B33%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; margin: 0px 8px 0px 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-l2WJCs7Ncb0/WDCxmhTsHnI/AAAAAAAAOcg/uCIKEHu697I/image_thumb%25255B17%25255D.png?imgmax=800" width="189" align="left" height="304"></a></p> <p><a href="https://lh3.googleusercontent.com/-4oqmYDjoWbQ/WDCxnESrG4I/AAAAAAAAOck/FSXg_wK-kt4/s1600-h/image%25255B40%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; margin: 0px 6px 0px 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-Uzj2r4aHC7Q/WDCxnhaFqjI/AAAAAAAAOco/TRaVkUxa8XI/image_thumb%25255B19%25255D.png?imgmax=800" width="244" align="left" height="169"></a>Although not nearly as pretty as in Sketchup, that’s more like it! To keep your project clean and make it easier to swap out this church for another one (or other building)later, don’t drag the FBX into the root of your assets, but first add a folder, <em>then</em> drag in the church, like displayed on the right.This way, the materials of all the imported objects don’t get mixed up. </p> <p>To keep the church and the (future) billboard together, I created an empty GameObject “Wortell” in HoloGramCollection. I dragged the church in there. You will find the church too big (like <em>way way </em>too big), so scale it to 0.025 in all directions.Then set for location X to –0.076 and Z to 0.2915. Finally, set Y rotation to 158.</p> <p>&nbsp;</p> <p><a href="https://lh3.googleusercontent.com/-o_oHCKk8lGc/WDCxoP_MK1I/AAAAAAAAOcs/k4TdyJtzyE4/s1600-h/image%25255B44%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-pMMMYh4K5R0/WDCxok8EnrI/AAAAAAAAOcw/a3pURoUYizs/image_thumb%25255B21%25255D.png?imgmax=800" width="304" align="left" height="138"></a></p> <p><a href="https://lh3.googleusercontent.com/-5cAMk9m6DIk/WDCxpNxFLbI/AAAAAAAAOc0/qB9pYJmzqXk/s1600-h/image%25255B55%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 12px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-W73WCVDmDpg/WDCxpYSQkqI/AAAAAAAAOc4/3kG--Bi4j3I/image_thumb%25255B24%25255D.png?imgmax=800" width="244" align="left" height="222"></a></p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>This will put the church nicely where it’s more or less supposed to be, although I think it’s about three times too big with respect to the map but otherwise it would be nearly invisible. For the record – this is not a model of <a href="https://www.google.nl/maps/@52.3466953,4.7509796,3a,75y,5.42h,112.06t/data=!3m6!1e1!3m4!1se3qdt22N-yI2cvSIPT1Sew!2e0!7i13312!8i6656?hl=nl" target="_blank">the actual church</a> that is converted to the Wortell offices, but it resembles it a little.</p> <h2><a href="https://lh3.googleusercontent.com/-7LwiVYtoIUg/WDGg4dGxcDI/AAAAAAAAOdM/QEzgHY61obs/s1600-h/image%25255B7%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ewymOIUKnUI/WDGg4xZyGCI/AAAAAAAAOdQ/ELBUHjlJ-UQ/image_thumb%25255B1%25255D.png?imgmax=800" width="244" align="right" height="143"></a>Getting a billboard and a logo</h2> <p>Getting this one is actually very easy. Go to the Unity Asset store – that is, click Window/Asset Store and type “Billboard” in filter. You will get an enormous amounts of hits but you just need the very first one, that I indicated in red. Click on it, then click “download” (or “import”, if you have downloaded it before) .</p> <p>When you actually import, make sure to deselect the sample scene, as we really don’t need it:</p> <p><a href="https://lh3.googleusercontent.com/-nDFgTTu0-Mo/WDGg5MoDx7I/AAAAAAAAOdU/irPooQeBpYM/s1600-h/image%25255B10%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-17kwK_z3nRg/WDGg5kuF-pI/AAAAAAAAOdY/OFk3TbNiU6s/image_thumb%25255B2%25255D.png?imgmax=800" width="223" height="244"></a></p> <p><a href="https://lh3.googleusercontent.com/-OfQcg5kxg4k/WDGg6LcypfI/AAAAAAAAOdc/KlHrSdFmNoY/s1600-h/image%25255B18%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-pB-ZpLdi8bo/WDGg6bWPVAI/AAAAAAAAOdg/e3S1rzF6DMI/image_thumb%25255B5%25255D.png?imgmax=800" width="304" align="right" height="108"></a>Drag the billboard prefab from Assets/Billboard inside the Wortell object on the hierachy. You will see that once again this is way too big. Scale it to 0.03 for x, y and z, give it the same position as the church and set rotation to 0 for x, 0 for y, and 90 for z. The billboard will now look like this:</p> <p><a href="https://lh3.googleusercontent.com/-QqeT91AFILA/WDGg7NNbIJI/AAAAAAAAOdk/GIwK8pDizOA/s1600-h/image%25255B21%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-cGzLFMQtG50/WDGg7YziWzI/AAAAAAAAOdo/-P9_VMNcNu8/image_thumb%25255B6%25255D.png?imgmax=800" width="199" height="244"></a></p> <p>So the only thing missing is the Wortell logo – or whatever you want to put on it. I am not sure if this is the right procedure, but I went with this:</p> <ul> <li><a href="https://lh3.googleusercontent.com/-gJhURcOR5EU/WDGyduH8YRI/AAAAAAAAOd4/8neRT0E2M9s/s1600-h/billboard%252520texture%25255B7%25255D.jpg"><img title="billboard texture" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="billboard texture" src="https://lh3.googleusercontent.com/-_Fq0e3JgmDo/WDGyeNJZukI/AAAAAAAAOd8/oVohvmlndBM/billboard%252520texture_thumb%25255B2%25255D.jpg?imgmax=800" width="54" align="right" height="54"></a>Add a 512x512 image with your logo to Assets/App/Textures. I took this one. Notice the Wortell text is just about halfway – this should put the text at the bottom of the billboard (as is customary with our logo)  <li>Click on the Billboard in the hierarchy.  <li>Expand the “board” material in the inspector  <li>Drag your logo texture on the square that says “None (texture)”  <li>Set X and Y tiling both to 2</li></ul> <p>Net result should be like left, and the billboard standing above the church should now look to the right:</p><a href="https://lh3.googleusercontent.com/-_7-aL_--ogA/WDGyelKdlhI/AAAAAAAAOeA/RDITaUxdqpQ/s1600-h/image%25255B40%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-9V1ov-13W1M/WDGyfIOE_hI/AAAAAAAAOeE/LikOP_UspPw/image_thumb%25255B13%25255D.png?imgmax=800" width="240" height="324"></a><a href="https://lh3.googleusercontent.com/-e1Hn90eaDL0/WDGyf3nvx9I/AAAAAAAAOeI/ncRXQ7uKZ7o/s1600-h/image%25255B41%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 37px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-62dN2zWoCBw/WDGygYG82ZI/AAAAAAAAOeM/_AHQaqIUoHU/image_thumb%25255B14%25255D.png?imgmax=800" width="284" height="324"></a>  <p>Getting the logo the way you want it to be takes a little fiddling. I really can’t tell you why you need to set those tiling values – I just found out it worked this way. </p> <h2>Adding some life to it</h2> <p>It looks pretty nice, but that billboard has all the interactivity of a wooden shed – it’s sitting there doing nothing. We want it to do two things:</p> <ul> <li>When it’s showing, it needs to be rotated to face the user – so it’s always readable  <li>Initially it won’t be visible at all, air tapping the church will make it visible (and invisible again, like a toggle)</li></ul> <p>After all, that’s what’s in the original video, and this very feature was even <a href="https://youtu.be/uSkv_XFTdc4?t=2589" target="_blank">demonstrated live on Windows Weekly</a> by none other than <a href="https://twitter.com/maryjofoley" target="_blank">Mary Jo Foley</a> herself&nbsp; ;) when she and <a href="https://twitter.com/thurrott" target="_blank">Paul Thurrott</a> visited the Wortell offices on <a href="https://youtu.be/uSkv_XFTdc4" target="_blank">November 16, 2016</a>. </p> <h2>Making the billboard face the user</h2> <p>This requires actually zero programming effort, as a billboard <em>behaviour</em> is already in the HoloToolkit. So basically all you have to do is:</p> <ul> <li>Got to Assets/HoloToolkit/Utilities/Scripts  <li>Locate the Billboard.cs script  <li>Drag it on top of your billboard game object in the hierarchy  <li>Set the script’s pivot axis to X</li></ul> <p><a href="https://lh3.googleusercontent.com/-ga_P4GzVvVg/WDG3EEfLJ8I/AAAAAAAAOeg/pLFbrN_yveoUHU7XPy2xt1VjaL5NCldlACHM/s1600-h/image%255B46%255D"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-FfViM-63VnM/WDG3Eru2_SI/AAAAAAAAOek/RHTS7354Jfwu6tSPPduatVpM7wrsOIYpQCHM/image_thumb%255B17%255D?imgmax=800" width="404" height="57"></a></p> <p>And you are done. If you deploy the app now to a HoloLens or emulator you will see the billboard now follows the camera. Now this may seem odd, as the billboard should rotate around the axis that runs from to top bottom – in other words, Y. But since the billboard is default rotated 90⁰ around it’s <em>Z-axis</em> and rotates around it’s <em>own</em> axis rather than a world axis, this makes sense. Kind of ;)</p> <p>If you are smart, you are now are wondering why I did not use that for the <em>aircraft label</em>, as the billboard script also supports full free axis movement. That is simple – at the time I wrote the code for the label, I simply had not thought of looking into the HoloToolkit. So I wrote a custom script. And I kept it that way, as a kind of way to show you how I am still learning as well :)</p> <h2>Preparing the billboard folding in or out by air tapping</h2> <p>So what we want to achieve is to be able to air tap the <em>church</em>, but this should have an effect on the <em>billboard</em>. I have solved this as follows:</p> <ul> <li>Create a collider on the church  <li>Make a behaviour attached to the billboard that handles the folding in/out of the billboard  <li>Make a little behaviour attached to the church that receives the air tap and passes that to the behaviour mentioned in the previous bullet point.</li></ul> <p><a href="https://lh3.googleusercontent.com/-DsfFdRWivX4/WDHjHEysRrI/AAAAAAAAOe0/x1SMCY8y5TA/s1600-h/image%25255B59%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-Xqenuv2O-r8/WDHjHlXpQEI/AAAAAAAAOe4/lC3IB6jKClc/image_thumb%25255B21%25255D.png?imgmax=800" width="244" align="right" height="89"></a></p> <p>First the collider. As <a href="http://localjoost.github.io/a-hololens-airplane-tracker-7activating" target="_blank">explained in the previous episode</a> , to be able to show a cursor on an object or select it, it needs to have a collider. I once again took the box collider for easy selection.</p> <p>Only then we notice something peculiar when we look at the church from the top:</p> <p><a href="https://lh3.googleusercontent.com/-hZgPZOqRjMk/WDHjIInUG3I/AAAAAAAAOe8/swCWxOWCXks/s1600-h/image%25255B63%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-ZGTGzcJC1Mw/WDHjIsrKojI/AAAAAAAAOfA/HdshNmtkOD4/image_thumb%25255B23%25255D.png?imgmax=800" width="481" height="304"></a></p> <p>Meh. That’s annoying. Apparently the creator of this model has created it on an angle, or there’s something wrong with the conversion. Either way we will have to fix it. We do this by digging into the church object in the hierarchy and rotate the Group1 component 25⁰ over it’s Y-axis so it’s visually aligned with the collider:</p> <p><a href="https://lh3.googleusercontent.com/-WlzLCxDVODU/WDHjJHxgPzI/AAAAAAAAOfE/_xajqiUcmiY/s1600-h/image%25255B76%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-C9jFOgFWBKo/WDHjJuCA00I/AAAAAAAAOfI/zidiM5UdUXw/image_thumb%25255B28%25255D.png?imgmax=800" width="362" height="183"></a><a href="https://lh3.googleusercontent.com/-s0raFwzGmBo/WDHjKKWC_DI/AAAAAAAAOfM/MVwD9j_cFfs/s1600-h/image%25255B75%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 13px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-bS4uDqHzGTI/WDHjL9rC8bI/AAAAAAAAOfQ/vhEWCftZWTc/image_thumb%25255B27%25255D.png?imgmax=800" width="244" height="183"></a></p> <p>Now of course church itself is no longer aligned with the road. But if you subtract the 25⁰ from the 158⁰ the church object it is rotated:</p> <p><a href="https://lh3.googleusercontent.com/-taWSHk9GTsQ/WDHjMM_5XTI/AAAAAAAAOfU/82WjPu3m-cE/s1600-h/image%25255B83%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-MuwxilxH5vI/WDHjMgdZn-I/AAAAAAAAOfY/fB0bQE8yAZE/image_thumb%25255B31%25255D.png?imgmax=800" width="273" height="244"></a><a href="https://lh3.googleusercontent.com/-QNYHgHxprB0/WDHjNGE-dyI/AAAAAAAAOfc/9jmZayBApZ8/s1600-h/image%25255B82%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px 0px 0px 13px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-Bevb-XLrcOE/WDHjNhODsiI/AAAAAAAAOfg/hqT0Eqb_OwE/image_thumb%25255B30%25255D.png?imgmax=800" width="235" height="244"></a>&nbsp;</p> <p>everything is now correctly rotated and aligned. And now for some action.</p> <h2>Adding the behaviours</h2> <p>We are almost there. First, we need the behavior that does the actual folding and unfolding of the billboard:</p><pre>using System;
using UnityEngine;

public class BillBoardToggler : MonoBehaviour
{
  private float _startScale;
  void Start()
  {
    _startScale = transform.localScale.x;
    Hide();
  }

  public void Toggle()
  {
    if (Math.Abs(transform.localScale.x) &lt; 0.001f)
    {
      // Pop up
      transform.localScale = new Vector3(0, _startScale, _startScale);
      iTween.ScaleTo(gameObject,
          new Vector3(_startScale, transform.localScale.y,
              transform.localScale.z), 1f);
    }
    else
    {
      // Pop down
      iTween.ScaleTo(gameObject, iTween.Hash("scale",
          new Vector3(0, transform.localScale.y, transform.localScale.z),
          "time", 1f, "oncomplete", "Hide"));
    }
  }

  private void Hide()
  {
    transform.localScale = new Vector3(0, 0, 0);
  }
}
</pre>
<p>So at start we save the x scale, and hide the complete billboard by scaling it to 0,0,0, effectively making it infinitely small – and thus invisible. Now if the Toggle method is called:</p>
<ul>
<li>If the scale bigger than 0.001, the billboard apparently was popped down. So we first set the Y and Z scale to their original value – and keep X to 0, then proceed to animate the X scale from 0 to its original value, using our old friend <a href="http://itween.pixelplacement.com/gettingstarted.php" target="_blank">iTween</a>, which we saw already in <a href="http://localjoost.github.io/a-hololens-airplane-tracker-5-smooth" target="_blank">the 5th episode</a> of this series. This lets the billboard rise out of the ground 
<li>otherwise, the billboard was already popped up. So we animate the x scale to 0. If you look closely, you will see the billboard being reduced to its outline on the airport map. But just after that, Hide is called, letting the outline also pop out of existence.</li></ul>
<p>Drag this behaviour on top of the billboard. Only one thing left to do – make sure this thing gets called when the user air taps the <em>church</em>. For that, we only need this simple behaviour:</p><pre>using UnityEngine;

public class ChurchController : MonoBehaviour
{
  private BillBoardToggler _toggler;

  // Use this for initialization
  void Start()
  {
    _toggler = transform.parent.GetComponentInChildren&lt;BillBoardToggler&gt;();
  }

  private void OnSelect()
  {
    if (_toggler != null)
    {
      _toggler.Toggle();
    }
  }
}</pre>
<p>Drag this on on top of the church. On start it will try to find a BillBoardToggler script on a sibling, and when the OnSelect method is called – a standard message sent by the HoloToolkit GestureManager – it will call the Toggle method on that, letting the billboard pop up (or make it go down again). So if you move your gaze cursor to the church and air tap on it:</p>
<p><a href="https://lh3.googleusercontent.com/-B5Eo51Ss61E/WDID8p6CYRI/AAAAAAAAOgE/eUKDUi7RAzA/s1600-h/image%25255B87%25255D.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="https://lh3.googleusercontent.com/-NxldE62VJaU/WDID9VdWBDI/AAAAAAAAOgI/pFzkHTmVreM/image_thumb%25255B33%25255D.png?imgmax=800" width="654" height="370"></a></p>
<h2>Conclusion</h2>
<p>So that’s it. No more beans to spill. This the the app and all of the app, except for the live data feed. In fact, it’s <em>better</em> then the app in the store, because backtracking the road I took making this app I skipped a few detours, false starts and messy things that have not turned up in this cleaned up tutorial code. That is why I can recommend everyone writing an extensive tutorial once in a while – because not only the students will learn, but the teacher as well. </p>
<p>The final and completed code of this app <a href="https://github.com/LocalJoost/HoloATC_Demo/tree/Blog8" target="_blank">can be found here</a>. I don’t rule out the possibility that I will write about extensions to this app at some later point, but this is what I wanted to share. I enjoyed immensely writing about it, and I hope you enjoyed reading. If you made it this far – kudos to you. I only ask you one thing – if this inspires you to write HoloLens apps too – consider writing a tutorial as well. Maye I will learn something from you as well ;)</p>
