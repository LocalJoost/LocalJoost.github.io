---
layout: post
title: Understanding and preventing Multilingual App Toolkit ‘lost translations’
date: '2013-12-09T21:47:00.001+01:00'
orgauthor: Joost van Schaik
tags:
- MAT
- wpnl
- wpdev
- dotnetmag
- Win8nl
modified_time: '2014-02-18T21:46:23.867+01:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-5179831590163914798
blogger_orig_url: https://dotnetbyexample.blogspot.com/2013/12/understanding-multilingual-app-toolkit.html
comment_issue_id: 161
---

<b><p>Update: the <a href="http://blogs.msdn.com/b/matdev/archive/2014/02/07/multilingual-app-toolkit-v2-2-released.aspx" target="_blank">MAT was updated</a> on February 7, 2014, adding new capabilities to handle this issue better</p></b>

<p>In the old days, making apps in multiple languages was quite a hassle, maintaining multiple resource files and keeping them in sync. In 2012 came the <a href="http://visualstudiogallery.msdn.microsoft.com/5e2a913c-709c-44e6-8b90-a552eede1903" target="_blank">Multilingual App Toolkit</a>, a brilliant piece of technology that changed everything. Suddenly professional localization tooling landed into the lap of John Developer. The tool has a lot of great capabilities – for instance, it can generate translations automatically using Bing Translator. For short texts this works very well, for longer texts your mileage may vary – but you can request for translation from inside the tool, mail it off to a buddy and later import it again. The machine translation at the very least greatly decreases the work of your translator – he or she can skip the 12 instances of Ok, Cancel, Yes, No and stuff like that. </p> <p>So why wouldn’t you use this? Well, I have heard rumors of people claiming to have lost translations. After getting translated texts and importing that translations into your app – at some point the imported translations where partly reset back to English. So I know of some people who kind of avoid the MAT. I did not understand what their problem was, until I ran into it myself. Fortunately I have had the honor of actually meeting the MAT Product Manager twice this year (at both MVP Summits), and that gives me kind of an advantage in gaining understanding what was going on. So I will try to explain to you what happens, and how you can prevent yourself from shooting in the foot with MAT.</p> <p>If you start making a localized app, you start out with just making one resource file (using the aforementioned resource file editor), for the default language – usually US/English. Once your apps is done, you fire up the MAT, and start adding languages. The MAT makes an XLF file for every language you add, and – in a <a href="http://www.microsoft.com/windowsphone/?ocid=aff-n-we-loc--ITPRO40939&amp;WT.mc_id=aff-n-we-loc--ITPRO40939" target="_blank">Windows Phone</a> app – automatically generates resx files for that. You can prefill those translations using the machine translation option, and like I said, optionally send it off to someone else to review the translation – using the much more translator-friendly editor than the resx file editor. What’s more, they don’t have to have Visual Studio at all – the MAT can run from Visual Studio but also as a simple stand-alone application.</p> <p>So when do you ‘lose’ translations? Very simple – if you go back to your original resx file with US/English and change the text <em>in there</em>, upon the next build, MAT will assume the text will need to be re-translated, <em>replaces the changed texts with US/English again</em> and marks them red (“Needs translation”) again. The logic behind this stems from the way Microsoft itself uses the application – at one point the UI gets frozen, and then localization happens. But in the mobile app development world, sometimes people go back to the original text and change that too. In my case, I wasn’t really happy with the original wording, or I changed a comma or something. And bam – gone were 5 translations of a single text. But now I understand what’s going on and why, the problem is already halfway solved. The other half I get around by using the following procedure:</p> <ul> <li>Use source control, for example Visualstudio.com. Simply check in your files before you start messing around in your translations and particularly when you want to change your source language texts. <li><a href="http://www.schaikweb.net/dotnetbyexample/5c07abe2154d_12419/image.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/5c07abe2154d_12419/image_thumb.png" width="360" align="right" height="285"></a>Use the MAT state feature – you can mark all translations as ‘signed off’ (green)when you are satisfied  <li>The net result – if you suddenly see <em>all</em> your XLF files checked out, MAT has done some potential unwanted processing. You can easily find what is actually changed by finding everything that’s marked red. If German texts are now suddenly English, you have probably been messing around with the original texts. If you want to retrieve the texts that were reset, you can still retrieve them from TFS.</li></ul> <p>For the sake of completeness - if you add a <em>new</em> text, you will more or less see the same result (all XLF files checked out) and suddenly an English text between your translated texts – but that is logical, because it’s a new text that has to be translated, either by machine translation or human translators (again). </p> <p>Currently there is no way to change the MATs behavior in this respect, but f you follow this procedure and keep in mind the rules that drive the MAT, you can use this awesome tool without shooting yourself in the foot. Maybe the tool will be changed to accommodate the more flexible/chaotic way mobile development goes, but that’s for later. Stay tuned.</p> 
<b>Update</b>: as you might have seen, the MAT team just started <a href="http://blogs.msdn.com/b/matdev/" target="_blank">their own blog on MSDN</a>. More importantly: the first article mentions a <a href="http://multilingualapptoolkit.uservoice.com/" target="_blank"><b><i>uservoice for MAT</i>!</b></a> I think I know what I am going to add for a suggestion ;-)
