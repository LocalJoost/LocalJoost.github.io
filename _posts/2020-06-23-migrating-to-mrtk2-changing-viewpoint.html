---
layout: post
title: 'Migrating to MRTK2: Changing viewpoint rotation angle when pushing the thumbstick'
date: '2020-06-23T12:54:00.000+02:00'
author: Joost van Schaik
tags:
- Windows Mixed Reality
- MRTK2
- Unity3D
modified_time: '2020-06-24T11:32:24.712+02:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-6789127036437622594
blogger_orig_url: https://dotnetbyexample.blogspot.com/2020/06/migrating-to-mrtk2-changing-viewpoint.html
---

<h2>Intro</h2><p><img width="240" height="165" align="right" style="margin: 0px 0px 0px 7px; border: 0px currentcolor; border-image: none; float: right; display: inline; background-image: none;" src="https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Images/Pointers/MRTK_Pointers_Parabolic.png" border="0">A short one, but one that took me <em>quite</em> some time to find.</p><p>If you are using <a href="https://www.schaikweb.net/blog/20200603/01_pointeroptionsx.png" target="_blank">MRTK2</a> to build a <a href="https://www.microsoft.com/en-us/windows/windows-mixed-reality" target="_blank">Mixed Reality</a> app to run on Immersive Headsets - or at least an environment where you control the environment using controllers - you can typically 'teleport' forward and backward by pushing the thumbstick forward and backward, and rotate the view by pushing it left and right. Your viewpoint rotates either 90° left or 90° right (and of course you can change the view by rotating your head, but that's not the point). But what if you want to rotate only 45°? Or 22.5°? </p><p>I have spent quite some time looking in the MRKT2 config profiles looking for the rotation angle. The reason I could not find it, is because it's not there. At least, not directly. It's in the <em>pointer</em> - the 3D cursor, if you like. Yeah, you read that right.</p><h2>First, we clone</h2><p>Starting from a default MRKT2 project, we follow the following steps:</p><ul><li>Clone the Toolkit Configuration Profile itself. I used DefaultMixedRealityToolkitConfigurationProfile to start this time.</li><li>Under Input, clone the Mixed Reality Input System Profile</li><li>Under Pointers, clone the Mixed Reality Input Pointer Profile</li></ul><h2>Finding the right pointer</h2><p>If you expand the Pointers section and then the Pointer Options sections, you will see a whole lot of pointers. The second one is the one we are looking for: ParabolicPointer. It's a prefab. </p><p><img width="640" height="439" style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20200603/01_pointeroptionsx.png" border="0"></p><p>If you click it, it will open the asset folder Assets/MRTK/SDK/Features/UX/Prefabs/Pointers and highlight the prefab we just selected:</p><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20200622/02_assetsfolder.png" border="0"></p><h2>Finding the angle </h2><p>Press CTRL+D to duplicate the pointer, then drag it the Prefabs folder inside your app:</p><p>&nbsp;<img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20200622/03_duplicateandmove.png" border="0"></p><p>If that folder is not there yet, create it first. Once the prefab is inside the folder, rename it to something recognizable - ParabolicPointer45 for instance. When you are done renaming you have automatically selected the pointer itself. Go over to the inspector, scroll <em>all the way dow</em>n to the "Parabolic Teleport Pointer" script and there, in the "Teleport Pointer Settings" section, you will <em>finally</em> see where that bloody 90° comes from:</p><p><img width="640" height="223" style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20200622/04_pointersettings.png" border="0"></p><h2>Adapting and applying</h2><p>So now it's simply a matter of changing the angle to what you want, so for instance 45°. Then you go back to your adapted Mixed Reality Input Pointer Profile and drag your customized point in the right place:</p><p><img width="640" height="103" style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20200622/05_applypointer.png" border="0"></p><p>and now your view will only rotate 45° in stead of 90° when you push the thumb stick sideways.</p><h2>Conclusion</h2><p>I certainly did not expect this setting being contained in a <em>pointer,</em> as by now I am quite conditioned to look in configuration profiles by now. I was - incorrectly - assuming it would be somewhere in the camera or controller settings. It took me quite some searching and debug breakpoints to find out where things where happening, and I took a few blind alleys before I found the right one. Typically something I blog about so a) I can now easily find back how I did it and b) you now also know where to look for. </p><p><a href="http://https://github.com/LocalJoost/RotationAngleDemo" target="_blank">Demo project, although it does not do very much, here.</a> When you run it (either from Unity or as an app) in your Immersive Headset, you will see a green 'floor' rotating only 45° when you push the thumbstick stick left or right. </p>