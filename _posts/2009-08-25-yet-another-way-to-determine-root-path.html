---
layout: post
title: Yet another way to determine root paths in ASP.NET
date: '2009-08-25T18:29:00.007+02:00'
orgauthor: Joost van Schaik
tags:
- ASP.NET
- dotnetmag
- root path
- root
- Extension methods
modified_time: '2010-04-06T11:17:29.865+02:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-4943596868673412126
blogger_orig_url: https://dotnetbyexample.blogspot.com/2009/08/yet-another-way-to-determine-root-path.html
comment_issue_id: 34
---

How many times I have tried to find the root path of an ASP.NET page or a handler (ASHX) in order to call another URL I can hardly count. When working with WMS and WFS services and connected documents - when you call all kind of weird 'services' - it's something that needs to be done often. I decided to put a few in what seems to become my trade mark - extension methods.

I created the following extensions to HttpContext<pre>using System;
using System.Web;

namespace LocalJoost.Utilities.Web
{
  public static class HttpContextExtensions
  {
    public static string FullRootPath( this HttpContext context )
    {
      return context.Request.Url.AbsoluteUri.Split(
        new[] { context.Request.Url.AbsolutePath },
        StringSplitOptions.RemoveEmptyEntries)[0];
    }

    public static string FullApplicationPath(this HttpContext context)
    {
      return string.Concat(context.FullRootPath(), 
        context.Request.ApplicationPath);
    }
  }
}</pre>In the Page_Load of an aspx page you can, for instance, use the methods as described below:<pre>var r = Context.FullRootPath();
var a = Context.FullApplicationPath();</pre>r will contain something like "http://localhost:3974" and a "http://localhost:3974/YourTestSite". Maybe there are simpler ways, but these work very well for me.
