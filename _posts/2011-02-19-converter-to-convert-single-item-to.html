---
layout: post
title: Converter to convert a single item to a list to enable Bing Maps binding
date: '2011-02-19T17:57:00.002+01:00'
orgauthor: Joost van Schaik
tags:
- dotnetmag
- MVVM
- WP7NL
- Windows Phone 7
- Silverlight
- Bing Map Control
- Converter
modified_time: '2011-04-20T11:34:57.091+02:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-7449412397152285744
blogger_orig_url: https://dotnetbyexample.blogspot.com/2011/02/converter-to-convert-single-item-to.html
comment_issue_id: 69
---

<p>Some things are so simple that I wonder if I am missing something. I tried to bind a single GeoPosition to Bing Maps’ MapItemsControl ItemsSource on <a href="http://www.microsoft.com/windowsphone/en-us/default.aspx" target="_blank">Windows Phone 7</a> and it did not work. Apparently Bing Maps want a list. So I wrote the following converter:</p>  <pre>using System;
using System.Collections.Generic;
using System.Globalization;
using System.Windows.Data;

namespace LocalJoost.Convertors
{
  public class ToListConverter : IValueConverter
  {
    public object Convert(object value, Type targetType, object parameter, 
                          CultureInfo culture)
    {
      var l = new List&lt;object&gt; ();
      if (value != null) l.Add(value);
      return l;
    }

    public object ConvertBack(object value, Type targetType, object parameter, 
                              CultureInfo culture)
    {
      return null;
    }
  }
}</pre>
A masterpiece of complicated coding, right :-/ ? Anyway, in stead of 

<pre>&lt;Microsoft_Phone_Controls_Maps:MapItemsControl 
  ItemsSource=&quot;{Binding GpsLocation}&quot;&gt;</pre>
I used 

<pre>&lt;Microsoft_Phone_Controls_Maps:MapItemsControl 
  ItemsSource=&quot;{Binding GpsLocation, Converter={StaticResource ToListConverter}}&quot;&gt;</pre>

<p>and Lo and Behold – now I did get my single icon on the map.</p>

<p>I have no idea if this is a quirk of the Bing Maps control or that ItemsSource attributes in general only accept lists – but either way, this works.</p>
