---
layout: post
title: Modifying look and feel of your App Studio generated Windows Phone app using
  Blend and Visual Studio
date: '2013-08-06T19:15:00.001+02:00'
author: Joost van Schaik
tags:
- Windows Phone 8
- AppStudio
- C#
- Windows Phone
- XAML
modified_time: '2013-08-06T22:20:29.665+02:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-9049765130336126989
blogger_orig_url: https://dotnetbyexample.blogspot.com/2013/08/modifying-look-and-feel-of-your.html
---

<p>By now you all probably heard about <a href="http://apps.windowsstore.com/" target="_blank">App Studio</a>, the great new on line tool the <a href="http://www.microsoft.com/windowsphone/?ocid=aff-n-we-loc--ITPRO40939&amp;WT.mc_id=aff-n-we-loc--ITPRO40939" target="_blank">Windows Phone</a> team have created to create custom Windows Phone apps based upon a number of templates without any programming. The fact I actually like <em>best</em> is that apart from generating the app and installing it on your phone directly – enabling non-techies to create their own apps in a very easy way – there’s something in it for us techies as well. You can also download the <em>source</em> <em>code </em>of said generated app, and modify it to your heart’s content. So you can go beyond what the tool offers, both in layout and functionality, but without having to start from the ground. The tool even generates code on MVVM. </p> <p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image002.jpg"><img title="clip_image002" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image002" align="right" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image002_thumb.jpg" width="244" height="112"></a>To show you how easy that is, I actually created a small blog post reader for my own blog using the “hobby” template. I deleted everything but the aboutDataSource and the news1DataSource. Fiddled around with the look and feel till it kind of looked like my blog. But the background of my blog is a star field, overlaid by&nbsp; articles on a white panel. If could have made the text white, but that would not look like my blog (branding is important) and it would get blurry because of the star field.</p> <p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image004.jpg"><img title="clip_image004" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image004" align="right" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image004_thumb.jpg" width="102" height="180"></a>So I decided to make it black text on the star field and adapt the templates in Blend and Visual Studio. My app in App Studio looked like displayed to the right. Black on black doesn’t read that well as I suspected. So I generated the app, downloaded the source code, opened the solution in Visual Studio and first compiled it. That worked. Then I opened it in Blend. It automatically opened about_info.xaml for me. I navigated to News1_NewsListControl. </p> <p>The following procedure needs to be followed to edit it to make it look like my blog:</p> <p>Right-click on News1_NewsListControl , select Edit Additional Templates/Edit Itemtemplate/Edit Current.Then right-click on the Grid, select Edit Style/Create Empty, and enter the following values:</p> <p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image006.jpg"><img title="clip_image006" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: left; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image006" align="left" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image006_thumb.jpg" width="174" height="100"></a>  <p>&nbsp; <p>&nbsp; <p>&nbsp; <p>Note this is an APPLICATION Style. Then we modify the background color to white and the opacity to 85%. This will make the blog posts look on a white, just a little transparent background  <p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image008.jpg"><img title="clip_image008" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image008" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image008_thumb.jpg" width="244" height="123"></a>  <p>Hit save all, click News1_NewsListControl on the top of the breadcrump – looking good!  <p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image010.jpg"><img title="clip_image010" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image010" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image010_thumb.jpg" width="157" height="244"></a>  <p>Now we want the header white as well. That’s a problem – both the header and the text inside the panels both have the style “CustomApplicationTextBrush”. If we were to set that white, we would get white headers and white text on white panels. We continue in Visual Studio. Open up up App.Xaml (it’s in 1 – UI\Wp8App) and find in the XAML code the following line: <pre>&lt;SolidColorBrush x:Key="CustomApplicationBackgroundBrush" Color="#000000" /&gt; </pre>
<p>Copy it and edit it: <pre>&lt;SolidColorBrush x:Key="CustomApplicationHeaderBrush" Color="#ffffff" /&gt; </pre>
<p>Open about_info.xaml, (it’s in 1 – UI\Wp8App\Views) find the line with the “about” text: <pre>&lt;TextBlock Text="about" Foreground="{StaticResource CustomApplicationTextBrush}"/&gt; </pre>
<p>And change CustomApplicationTextBrush in CustomApplicationHeaderBrush. 
<p>Bang! The “about” text changes into white. Find the “news” TextBlock as well and repeat the procedure. 
<p>If you run the application, you will the news panel quite OK, but the about panel not looking like it should, and so is the page that appears when you tap on an article 
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image012.png"><img title="clip_image012" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" hspace="12" alt="clip_image012" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image012_thumb.png" width="148" height="244"></a><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image014.png"><img title="clip_image014" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" hspace="12" alt="clip_image014" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image014_thumb.png" width="148" height="244"></a><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image016.png"><img title="clip_image016" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image016" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image016_thumb.png" width="148" height="244"></a> 
<p>This can only be done from XAML code view, and is actually pretty simple. Find the ScrollViewer in “Panoramaabout_Info0”, and surround it with a style Grid: <pre>&lt;Grid Style="{StaticResource PanelStyle}"&gt; 
  &lt;ScrollViewer Margin="15,0"&gt; 
    &lt;mytoolkit:FixedHtmlTextBlock FontSize="24" 
               Foreground="{StaticResource CustomApplicationTextBrush}" 
               Html="{Binding Currentabout_InfoHtmlControl}"/&gt; 
&lt;/ScrollViewer&gt; 
&lt;/Grid&gt; </pre>Result: 
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image018.png"><img title="clip_image018" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px; margin-right: 0px" border="0" alt="clip_image018" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image018_thumb.png" width="148" height="244"></a>
<p>This can only be done from xaml code as the designer is playing up over the FixedHtmlBlock. That’s one. Now open up the news1_Detail.xaml. That’s the page showing the whole article. There’s no literal text here, data is being bound here to the GUI so the same template can be used for every article. There’s also a text block that holds the title: <pre>&lt;TextBlock Text="{Binding CurrentRssSearchResult.Title, Converter={StaticResource SanitizeString}}" Foreground="{StaticResource CustomApplicationTextBrush}"/&gt; </pre>
<p>Here again we have a CustomApplicationTextBrush that needs to be changed into to make the article header white. A little bit lower is the ScrollViewer holding the article, which is conveniently already surround by a grid: <pre>&lt;Grid Margin="10,5,5,5"&gt; 
  &lt;ScrollViewer&gt; </pre>Just add the style: <pre>&lt;Grid Margin="10,5,5,5" Style="{StaticResource PanelStyle}"&gt; </pre>
<p>And done 
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image020.png"><img title="clip_image020" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image020" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image020_thumb.png" width="148" height="244"></a> 
<p>Now we want to make extra functionality. We want to be able to mail the author, i.e. yours truly:
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image022.png"><img title="clip_image022" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image022" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image022_thumb.png" width="148" height="244"></a> 
<p>We need an extra button in the “about” screen. That is actually pretty simple too. First, we have to define the function. It’s in the “About” screen, so we need the about_InfoViewModel .cs (it’s in 1 – UI\Wp8App\ViewModel). All the way to the end, insert the following the following: <pre>public ICommand SupportQuestionCommand 
{ 
  get 
  { 
    return new RelayCommand(() =&gt; 
    { 
      var emailComposeTask = new EmailComposeTask 
      { 
        To = "joostvanschaik@outlook.com", 
        Subject = "Question about DotnetByExample" 
      }; 
      emailComposeTask.Show(); 
    }); 
  } 
}</pre>
<p>Now go all the way to the top and add to the using statements: <pre>using Microsoft.Phone.Tasks; 
using MyToolkit.MVVM; </pre>
<p>This is the actual definition. But rather than hard connecting view models to each other, the framework has generated interfaces around it, so the interface belonging to this viewmodel needs to be updated as as well. Open the Iabout_InfoViewModel.cs (it’s in 1 – UI\Wp8App\Interfaces) and add: <pre>ICommand SupportQuestionCommand { get; } </pre>
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image024.jpg"><img title="clip_image024" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; float: right; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="clip_image024" align="right" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image024_thumb.jpg" width="54" height="54"></a>The functionality is now done. Now for the user interface. First, we need an image. For e-mail, let’s use an envelope. Take a 128x128 pixel image – white with a transparent background, that (inverted) – looks like to the right&nbsp; <p>Open the directory 1 – UI\WP8App\Images\Icons\Dark directory, and simply drag de image on top of it. It will be automatically added to the solution. Let’s suppose the image is call “mail.png”. 
<p>Creating the app bar button and wiring up the command is simple enough: in about_Info.xaml there’s this rather intimidating piece of XAML <pre>&lt;mytoolkitpaging:BindableApplicationBar x:Key="Panoramaabout_Info0AppBar" IsVisible="True" IsMenuEnabled="True" Mode="Minimized" BackgroundColor="{StaticResource CustomApplicationAppBarBackgroundBrush}" Opacity="0.99" ForegroundColor="White"&gt; 
&lt;mytoolkitpaging:BindableApplicationBarIconButton x:Name="Panoramaabout_Info0SetLockScreenBtn" IconUri="/Images/Icons/Dark/SetLockScreen.png" Text="{Binding Path=LocalizedResources.SetLockScreen, Source={StaticResource LocalizedStrings}}" Command="{Binding SetLockScreenCommand}"/&gt; 
&lt;/mytoolkitpaging:BindableApplicationBar&gt; </pre>
<p>But it ain’t that difficult. Just before the last line<pre>&lt;/mytoolkitpaging:BindableApplicationBar&gt; </pre>
<p>Add <pre>&lt;mytoolkitpaging:BindableApplicationBarIconButton 
    x:Name="Panoramaabout_mail" 
    IconUri="/Images/Icons/Dark/Mail.png" 
    Text="Mail author" 
    Command="{Binding SupportQuestionCommand}"/&gt; </pre>
<p><a href="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image026.png"><img title="clip_image026" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="clip_image026" align="right" src="http://www.schaikweb.net/dotnetbyexample/9a5bc1b3e638_1046B/clip_image026_thumb.png" width="148" height="244"></a>See what’s going on here? You add a button to the application bar, you give it an icon, a text next to the icon, and a command that needs to be fired when the button is clicked. And sure enough, when you click the “Mail author” button, the mail app opens as displayed here
<p>And that’s all that there’s too it. You make Windows Phone 8 from code, you can make them with App Studio, you can do a bit of both. For those who want to learn themselves how this is done: both the <a href="http://www.schaikweb.net/dotnetbyexample/DotnetbyExample-before.zip" target="_blank">generated (before)</a> and the <a href="http://www.schaikweb.net/dotnetbyexample/DotnetbyExample-after.zip" target="_blank">modified code (after)</a> are downloadable, and far all I care you adapt it to your own blog. I would recommend though changing the e-mail address to your own, or else I will get some peculiar mails I fear ;)
<p>Happy clicking!
  