---

title: Setting up a HoloLens project with the HoloToolkit - June 2017 edition
date: '2017-06-14T19:05:00.001+02:00'
orgauthor: Joost van Schaik
tags:
- UWP
- HoloLens
- Unity3D
modified_time: '2017-06-24T13:09:04.494+02:00'
thumbnail: https://lh3.googleusercontent.com/-2dxuhcdIn9Y/WUFsdZCHTEI/AAAAAAAAO04/fP5CSIfecUUW-L4JR37xJodEYeR8hTY0gCHMYCw/s72-c/image_thumb%255B1%255D?imgmax=800
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-6113362511946992481
blogger_orig_url: https://dotnetbyexample.blogspot.com/2017/06/setting-up-hololens-project-with.html
---

<h2>Preface with lame apologies</h2><p>My apologies for the longest blogging hiatus in the history of this blog, I was <em>very</em> busy with things both HoloLens and not-HoloLens related. Chief culprit though was my HoloLens app "<a href="https://www.microsoft.com/store/productid/9P6SVQQCP2SQ" target="_blank">Walk the World</a>", whose development completely captured and absorbed me. Passion for tech sometimes does that with me ;). Then came some work-related issues, but now I finally am up to speed again. </p><h2>Intro</h2><p>A consequence of the hiatus is a lot of change (the only thing that changes faster than your average JavaScript-framework-of-the-month is the <a href="https://github.com/Microsoft/HoloToolkit-Unity" target="_blank">HoloToolkit</a>) so any HoloLens how-to blog post I'd start with I would have to start with 'how to set up a project'. So I make a little separate post of that subject, thus I can refer to it often. Until the HoloToolkit changes again ;)</p><h2>File/new project and Getting what you need</h2><p>First, start a new Unity Project. I have called mine June2017HoloLensSetup.</p><p>Then, you open a browser and go to <a href="http://withinrafael.com/"><strong>Rafael Rivera</strong></a>'s&nbsp; <a href="http://holotoolkit.download/" target="_blank">HoloToolkit download site</a> and you click the top HoloToolkit-somenumber-unitypackage. At the time of this writing the top looks like this:</p><p><a href="https://lh3.googleusercontent.com/-pwe7kH2xcdA/WUFsclugvSI/AAAAAAAAO00/lTVlCYbnheIM1RiTz67DZwtnDn15UTiMgCHMYCw/s1600-h/image%255B3%255D"><img width="644" height="238" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-2dxuhcdIn9Y/WUFsdZCHTEI/AAAAAAAAO04/fP5CSIfecUUW-L4JR37xJodEYeR8hTY0gCHMYCw/image_thumb%255B1%255D?imgmax=800" border="0"></a>.&nbsp; </p><p>Downlaod and double click the resulting .unitypackage file - Unity will automatically import it into your project. This will give you a window with a <em>lot</em> of checkboxes:</p><p><a href="https://lh3.googleusercontent.com/-l55KPcvu9qg/WUFseLVqYOI/AAAAAAAAO08/oy74JcI9620-Et-nZJUzDZ38IED1Ho5UgCHMYCw/s1600-h/image%255B7%255D"><img width="639" height="484" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-42i8Wf2BD_A/WUFse1Fj2UI/AAAAAAAAO1A/6dSUMFJpcM8bj5_wUcs9wilvFd69Iw8WACHMYCw/image_thumb%255B3%255D?imgmax=800" border="0"></a></p><p>This looks a bit intimidating, but just collapse the HoloToolkit node in the list, that will reveal another node "HoloToolkit-test" that you don't need, and you can de-select it<a href="https://lh3.googleusercontent.com/-nc-l9bSz65A/WUFsfXVQk1I/AAAAAAAAO1E/FIIz92uNdRUASdPr1pWNsfzfJyyO8EI5wCHMYCw/s1600-h/image%255B11%255D"><img width="644" height="156" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-1HsbUOEx8_U/WUFsgCTS6uI/AAAAAAAAO1I/t8CyFWjsMZod3qvMmvBw7uOJBPD4WGUHwCHMYCw/image_thumb%255B5%255D?imgmax=800" border="0"></a></p><p>And then hit the Import-button. Then very soon, Unity will show a popup:</p><p><a href="https://lh3.googleusercontent.com/-fjOmvZlf2ME/WUFsgnpk1FI/AAAAAAAAO1M/ETLD8LokrwYxA85FHPs4bt_2XHzpWWAYgCHMYCw/s1600-h/image%255B21%255D"><img width="354" height="140" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-tmF9qiLC4c0/WUFshGgouFI/AAAAAAAAO1Q/ogBPUVsct5cZVek_LEMRfkqwzRoI_Y9wwCHMYCw/image_thumb%255B11%255D?imgmax=800" border="0"></a></p><p>Select "Force Text Serialization". This is very important if you want to be able to easily upgrade the HoloToolkit and be able to check it in into your source control of choice. </p><p>The HoloToolkit will now be imported. Well, that was not so hard, wasn't it? This is time to get some coffee as Unity will churn a little on this. </p><h2>Setting up the camera</h2><p>HoloLens apps need some settings applied to the camera, and the HoloToolkit folks have taken care of that. So first of all, you delete the Main Camera from your Hierarchy - just select it and delete it.</p><p><a href="https://lh3.googleusercontent.com/-_XknnztcGrc/WUFsh1SkkiI/AAAAAAAAO1U/HCWaZ7zwm0AB2dzPeNHNUrv5qUrIU4SmQCHMYCw/s1600-h/image%255B17%255D"><img width="354" height="75" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-Lha7s3jMzms/WUFsidIEOWI/AAAAAAAAO1Y/mUW-ZNCx8YUacNriamM9g03uSsnGBPQYQCHMYCw/image_thumb%255B9%255D?imgmax=800" border="0"></a></p><p>Then, find the HoloLensCamera by entering "Camera" into the search box indicated with a red ellipse, and drag the new Camera into your hierarchy</p><p><a href="https://lh3.googleusercontent.com/-SoKUFg3vaoM/WUFsiyvuz6I/AAAAAAAAO1c/3leb3QfoM2A4gksHc9VLcrNyEUGf6MWRACHMYCw/s1600-h/image%255B25%255D"><img width="354" height="252" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-eFiD99lKF8E/WUFsjruqZ-I/AAAAAAAAO1g/ibl2CFlOmBAn6Up1S6rj_CYnYg0tW4xtACHMYCw/image_thumb%255B13%255D?imgmax=800" border="0"></a>&nbsp;</p><p>This is also a good moment to save your scene. Hit CTRL+S (or click File/Save Scenes), enter an name for your scene (I usually take "Main") and you are done with the this part.</p><h2>Setting a whole lot of properties - the easy way</h2><p>Now you may not have noticed it, but after importing the HoloToolkit you got an extra extra menu options.</p><p><a href="https://lh3.googleusercontent.com/-uiNhZWlhIdI/WUFskPjS66I/AAAAAAAAO1k/Jh94tWvEyfsJv8Z00IQaRJXrbTFwJCzbwCHMYCw/s1600-h/image%255B30%255D"><img width="454" height="137" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-bI3Zc4BTAdk/WUFsk-F6a0I/AAAAAAAAO1o/Y3M5EbuquUo4XuX8TbFtsnE8e1GhiQagQCHMYCw/image_thumb%255B16%255D?imgmax=800" border="0"></a></p><p>This was added because you have to set a whole lot of properties necessary for or beneficial to a HoloLens projects -&nbsp; scattered all over Unity, and good luck to you determining what you forgot if something doesn't work and where you have to correct that. Those were the bad old days (like a year ago ;) ). Now it's easy. </p><p>Clicking "Apply HoloLens Scene Settings" gives you this popup. Make sure everything is selected, then hit Apply. Always hit apply!</p><p><a href="https://lh3.googleusercontent.com/-SWv0RVWxHXw/WUFslvVMy8I/AAAAAAAAO1s/fQqf3gyqIcIKEqBGALghI51OBxlAxxnhACHMYCw/s1600-h/image%255B35%255D"><img width="304" height="230" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-zuKLd1Cy5qE/WUFsmLyXpAI/AAAAAAAAO1w/cQZBWLg2b38n5lN775L77iTzXAUWxVDDQCHMYCw/image_thumb%255B19%255D?imgmax=800" border="0"></a></p><p>Next up is "Apply HoloLens Project Settings" </p><p><a href="https://lh3.googleusercontent.com/-DKq_QqsjW4M/WUFsmi3OxNI/AAAAAAAAO10/qQRUMXnvCpAr14nD_KoAqIgUOgB7MkOEACHMYCw/s1600-h/image%255B39%255D"><img width="304" height="248" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-5fNRONNMz0s/WUFsnPTlKMI/AAAAAAAAO14/aKy4KTMbOogd_aZ1lPuOakAGsFaBvaVNgCHMYCw/image_thumb%255B21%255D?imgmax=800" border="0"></a></p><p>Same procedure: make sure everything is selected, hit apply. Unity asks if you want to reload the project - click Yes and wait for the project to reload. Finally, "Apply HoloLens Capability Settings"</p><p><a href="https://lh3.googleusercontent.com/-9Qs4SGFeHb0/WUFsnySXuKI/AAAAAAAAO18/T-e3vEstF1oWHYk8yoj9L95ENer8fLsegCHMYCw/s1600-h/image%255B43%255D"><img width="304" height="246" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-aHfr4ufwdfg/WUFsocxtWWI/AAAAAAAAO2A/2LdaYueE_jgsg_qVYOt2i15phwyk0yY-QCHMYCw/image_thumb%255B23%255D?imgmax=800" border="0"></a></p><p>This is what I always select - my HoloLens apps all tend to use voice commands, all use Spatial Perception (that is, after all, HoloLens' biggest USP) and most of them download some data from the internet. I never use the camera. Make your selections according to your necessary capabilities and hit apply.</p><h2>Sound should be Spatial!</h2><p>For some reason this is not part of these nice HoloToolkit setup screens - but if you use <a href="https://developer.microsoft.com/en-us/windows/mixed-reality/spatial_sound" target="_blank">spatial sound</a> in your apps (and you should!) there is an extra step. You select "Edit/Project Settings/Audio" like this</p><p><a href="https://lh3.googleusercontent.com/-qerIBr2jEXo/WUFso5Oa3VI/AAAAAAAAO2E/_ydEakz2YKkjNUvokinDI6RkZ7N_AHqhgCHMYCw/s1600-h/image%255B47%255D"><img width="354" height="227" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/--IyN-CdPYAQ/WUFspnMYlYI/AAAAAAAAO2I/Cva95cJ1EWQDZnkUNe6GWEY_GK_2GUdYgCHMYCw/image_thumb%255B25%255D?imgmax=800" border="0"></a></p><p>"Project settings is almost all the way down in a <em>long</em> Edit menu. Now on the <em>right</em> side of the editor, all the way on the top, a new menu has appeared:</p><p><a href="https://lh3.googleusercontent.com/-1KgEvVMQaHQ/WUFsqN8m65I/AAAAAAAAO2M/a2_gSxGdEksr52OLgrBeznjUsaOZJvXEgCHMYCw/s1600-h/image%255B53%255D"><img width="454" height="229" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-vS03U8PCKiU/WUFsq5fByGI/AAAAAAAAO2Q/jeZ_vuZwh8IrEbg-V2w0POvqYLcSFL8FQCHMYCw/image_thumb%255B29%255D?imgmax=800" border="0"></a></p><p>The Spatializer Plugin is default set to "none", which will give you the default Unity stereo sound - nice, but that's sub-optimal usage of a $3K (or $5K) HoloLens - we want real spatial sound. So set it to MS HRTF Spatializer. This is, by the way, a very important and often overlooked part of immersive experiences. Human beings are 3D aware not only by vision, but also by sound. Think for instance of how you move around in a city, you hear cars coming to you even if they are outside of your vision (and that has more than once saved my life). In your house, there is the hum of the air conditioner, the bubbling of the fish tank filter, the voice of your partner - you don't have to see any one of those, but still you can tell where they are. It all contributes to your 3D awareness - and so does spatial sound contribute heavily to an immersive holographic experience.</p><p>So far for this soapbox moment ;).</p><h2>Some organizing </h2><p>It tend to create two empty gameobjects - HologramCollection and Managers. The HologramCollection will actually hold Holograms that are part of the application, the Managers object is like a container for global functions, object and standard stuff.</p><p><a href="https://lh3.googleusercontent.com/-vUZIjIj2gQc/WUFsrZTE9bI/AAAAAAAAO2U/IcPEDWBHHsMjjms8X2T0Volg1gTDZ2hFACHMYCw/s1600-h/image%255B57%255D"><img width="204" height="290" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-KAX1Ekx_Alw/WUFssHOv6vI/AAAAAAAAO2Y/q25PEm33gXQTAdcoJzxdPYbBxYFVrX77wCHMYCw/image_thumb%255B31%255D?imgmax=800" border="0"></a></p><h2>Some standard stuff to always add</h2><p>What (I think) you will always need is an InputManager (the thing that acts as a kind of hub for all input, be it gestures, speech or whatever), SpatialMapping (duh) and some kind of cursor. I usually take the object that is just called "Cursor", there's also "DefaultCursor" and "CursorWithFeedback". </p><p><a href="https://lh3.googleusercontent.com/-2YlIbjbmfvw/WUFssgrk_9I/AAAAAAAAO2c/wHDKKZx-0ug9w6nJfjn2HRMaebaP3ocewCHMYCw/s1600-h/image%255B60%255D"><img width="212" height="200" title="image" style="margin: 0px; display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-DmwcZNiOZAM/WUFstAsd5dI/AAAAAAAAO2g/wYwCNcNBLqQJ1EJNyE8m8ito3PrQ1J78ACHMYCw/image_thumb%255B32%255D?imgmax=800" border="0"></a></p><p>The easiest way to find them is once again entering their name in the search box. Now this can sometimes give cause for some confusion. For instance, if you enter "Cursor" in the search box you will get a lot of hits.</p><p><a href="https://lh3.googleusercontent.com/-MMmZDkG8ovk/WUFstq-gO5I/AAAAAAAAO2k/VgUf96VV6awDSoXeJaA492vsDcuxhFfiACHMYCw/s1600-h/image%255B68%255D"><img width="404" height="438" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-c5X-GQ7qGiM/WUFsuWrw6NI/AAAAAAAAO2o/vul_qCrFx2sqhLO-RRiCg8mZq9lUFYzBgCHMYCw/image_thumb%255B36%255D?imgmax=800" border="0"></a></p><p>Only choose the so-called <em>prefabs</em>, the things that get the simple sky blue cube next to it. The same goes, by the way, for InputManager and SpatialMapping. Always take the prefabs.</p><p>When you are done adding SpatialMapping, find the property "Surface Material" and change it to "Occlusion" by clicking the little circle button behind it. Then, select it from the "Select Material" window that pops up</p><p><a href="https://lh3.googleusercontent.com/-lpKfAwz9zfM/WU5IEQQa2MI/AAAAAAAAO3U/5SZ4vgovqyYQRwp5buwGs06yldMhjlADACHMYCw/s1600-h/image%255B4%255D"><img width="644" height="432" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-NXHqcqlUpT8/WU5IE8B0WqI/AAAAAAAAO3Y/LPVupg67A-Y0AntK22m5pYIq0XgoQ8xCQCHMYCw/image_thumb%255B1%255D?imgmax=800" border="0"></a></p><h2>Finally some stubbornness</h2><p>The current settings make that stuff is clipped when you are within 85cm of a Hologram. There are good technical and performance reasons for it, yet I am a stubborn *** ** * ***** so I tend to make this 15 cm. <a href="https://lh3.googleusercontent.com/-fLICSCdNVtg/WUFsvC2F4SI/AAAAAAAAO2s/H5qMtYI0tdgjgpXb_P26fq-GXVAY1n55ACHMYCw/s1600-h/image%255B72%255D"><img width="644" height="261" title="image" style="display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-8NsEDeKccVs/WUFsv4ro3CI/AAAAAAAAO2w/d1xOkup88aw_XREmgnW2bgkN6iPVHJk6gCHMYCw/image_thumb%255B38%255D?imgmax=800" border="0"></a></p><p>Simply because I think it's cool to get that close to a Hologram.</p><h2>A final word on source control</h2><p>Assuming you use Git, making a good .gitignore is pretty hard. Especially the HoloToolkit contains stuff you would expect not to reside in a source repository, there's all kinds of dlls in it and folders called x86 and x64, typically folders that are part of a build path and should usually be ignored. I've been bitten so many times by just that little piece of the HoloToolkit, especially when upgrading. Therefore a hard-won piece of advice: if you value your sanity, put a .gitignore file in Assets\HoloToolkit containing just these lines:</p><p><strong>!*.*<br>
!*</strong></p><p>That should always add everything, I think. </p><p>You can download the (empty) project for reference, <em>with</em> my .gitignore files (there are no less than three) <a href="https://github.com/LocalJoost/June2017HoloLensSetup" target="_blank">here</a>.</p>