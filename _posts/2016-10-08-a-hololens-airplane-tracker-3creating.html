---
layout: post
title: A HoloLens airplane tracker 3–Creating an annotated airplane
date: '2016-10-08T10:51:00.001+02:00'
orgauthor: Joost van Schaik
tags:
- UWP
- HoloLens
- Unity3D
modified_time: '2016-11-22T10:18:03.874+01:00'
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-5858039139626991673
blogger_orig_url: https://dotnetbyexample.blogspot.com/2016/10/a-hololens-airplane-tracker-3creating.html
comment_issue_id: 264
---

<h2>Intro</h2> <p>In this post we are going to create a game object holding the aircraft and a label showing aircraft data that always looks at the user. We are not going to worry about scaling yet – we will handle that from code, in the next blog post. </p> <h2>First some housekeeping</h2> <p>Just as in the CubeBouncer project, we are going to create some folders in the Assets first to keep our custom assets nicely separated. Create a folder App, and in this folder the following subfolders:</p> <ul> <li>Audio  <li>Materials  <li>Prefabs  <li>Scripts  <li>Textures  <li>UWPAssets</li></ul> <h2>Creating the Aircraft Holder and including the aircraft</h2> <p>Inside the HologramCollection, create an empty GameObject called AircraftHolder. Then drag into that object the A320 object form the A320 folder. A rather large A320 appears in the Scene, as indicated in the <a href="http://localjoost.github.io/a-hololens-airplane-tracker-2setting-up" target="_blank">previous blog post</a>. Just ignore this for now.Open the A320 object (in the hierarchy, not the object in the A320 folder), disable the animator, and make sure X,Y,Z position and rotation are all 0,0,0 and scale 1,1,1: </p> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb.png" width="354" height="258"></a></p> <p>At this point I have no idea what the Animator is supposed to do, but we don’t need it – I think. </p> <h2>Create a label</h2> <p>In this section we create the label above the airplane that displays flight information, like flight number, aircraft type, speed, altitude, etc. Right-click the AicraftHolder and create a “3D Text” Object. Call this “Label”. That label now sits at the bottom of the airplane, where apparently it’s origin is.</p> <p>Open the label in the inspector, set the Y position to 15 and the Y rotation to 270. That places the text 15 meters above the airplane, placing it parallel above the fuselage, making the default text “Hello World” readable from the right side of the airplane</p> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_3.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_3.png" width="354" height="106"></a></p> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_4.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_4.png" width="354" height="141"></a></p> <p>The go down to the “Text Mesh”. Change the following things:</p> <ul> <li>Anchor to lower center  <li>Change font size to 80  <li>Change the color to red</li></ul> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_5.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_5.png" width="354" height="201"></a></p> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_6.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_6.png" width="354" height="170"></a></p> <p>Now hit “Add component”, and add a Mesh Collider. Select the “Convex” checkbox:</p> <p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_7.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_7.png" width="354" height="75"></a></p> <p>Of course, it’s not very practical if the airplane’s data is only readable from the left side. So to close off this article, we actually going to write code – by adding a simple script that keeps the text readable from every angle. Go to the Assets/App/Scripts folder, right-click it and hit “Create Script”. Call the script “LookAtCamera”. Double-click it – that will open Visual Studio – and change the update method to this:</p><pre>void Update()
{	
  gameObject.transform.LookAt(Camera.main.transform);
  gameObject.transform.Rotate(Vector3.up, 180f);
}</pre>
<p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_8.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; float: right; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_8.png" width="244" align="right" height="76"></a>Save the file, go back at Unity. Drag the new script on top of the Label inside the AircraftHolder game obejct To see this actually works: hit the Unity “Play” button</p>
<p>Now the fun thing is – as long as you are in play mode, changes in settings are not stored so this is great for fooling around. Initially your game screen looks like this – you are looking from under the plane right up to the front landing gear.</p>
<p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_9.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_9.png" width="354" height="300"></a></p>
<p>Select the AircraftHolder in the hierarchy, then change Z to 500. </p>
<p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_10.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_10.png" width="354" height="261"></a></p>
<p>The plane flicks forward… and the text is still readable although we are not looking form the left, but the back. Change rotation X to –20 and rotatation Y to –30:</p>
<p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_11.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_11.png" width="354" height="285"></a></p>
<p>The plane is rotated, we are now looking more or less form the right, but the text <em>is still pointing straight to you</em>, and is readable. Mission accomplished. Not bad for two lines of code!</p>
<p>Exit Play mode. Go to the label once more, and remove the text “Hello World”. The label seems to disappear, but it’s still there, it’s now just empty. It will be filled by code.</p>
<h2>And finally…</h2>
<p>Select the Prefab folder in Assets/App, and drag the AircraftHolder into it. After you have done it, remove it from the HologramCollection. And save the Scene.</p>
<p>Net result: </p>
<p><a href="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_12.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.schaikweb.net/dotnetbyexample/A-HoloLens-airplane-tracker-3_C931/image_thumb_12.png" width="354" height="539"></a></p>
<p>The reason why I am making the AircraftHolder in stead of adding components directly to the A320 model – which is perfectly possible – is that by using this way I can easily switch out the actual airplane model, while all logic and additional components are preserved. If you find a different (more pretty) aircraft 3D model this way saves you work.</p>
<p>Code so far can be <a href="https://github.com/LocalJoost/HoloATC_Demo/tree/Blog3" target="_blank">downloaded from Github here.</a></p>
