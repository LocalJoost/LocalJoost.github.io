---
layout: post
title: Migrating to MRKT2 - making a 'hand palm' menu
date: '2019-11-17T18:04:00.000+01:00'
orgauthor: Joost van Schaik
tags:
- Unity
- Windows Mixed Reality
- MRTK2
- HoloLens2
modified_time: '2019-11-17T18:04:56.164+01:00'
thumbnail: https://i.ytimg.com/vi/YEHY88zZGI4/default.jpg
blogger_id: tag:blogger.com,1999:blog-5295746446529817470.post-72936390822227150
blogger_orig_url: https://dotnetbyexample.blogspot.com/2019/11/migrating-to-mrkt2-making-hand-palm-menu.html
comment_issue_id: 340
---

<h2>Intro</h2><p>In all modesty I think I pretty much nailed making simple 'user interfaces' for <a href="https://www.microsoft.com/en-us/hololens" target="_blank">HoloLens</a> 1 - simple dialogs and stuff. Clients told me 'even a moron can understand how to operate this' so I think I did allright. But stuff floating in thin air wasn't always ideal. And now with HoloLens 2, we can actually let stick stuff to hands, in stead of just the gaze. So I decide to check if I could make a menu that stuck in the palm of your hand. Turned out I could.</p><p>And it's ridiculously easy to boot.</p><h2>Creating a hand palm menu</h2><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20191107/1_Handmenu.png" border="0"></p><p>This was actually just built from the UX components in the MRKT2. </p><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20191107/2_component.png" border="0"></p><p>These are literally only two "PressableButtonHoloLens2" prefabs floating about 2cm before a quad that has this material:</p><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20191107/3_backplatematerial.png" border="0"></p><p>Then I added a Solver Handler to the HandMenu</p><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20191107/4_solverhandler.png" border="0"></p><p>I had to fiddle a bit with the settings, especially the additional offset - to determine where exactly the menu is going to appear in relation to the palm. How these parameters exactly work is a bit unclear with me, so I used the scientific method: I started to change the numbers till things happened the way I liked ;)</p><p>And finally I added a Hand Constraint Palm Up with these settings</p><p><img src="https://www.schaikweb.net/blog/20191107/5_handconstraint.png"></p><p>And this is basically all you have to do to have the menu appear.</p><h2>Some configuration settings</h2><p>Although this works with the 'normal' simulated hand setting as well, it's best viewed with the 'flat' hand palm. To get this, starting with</p><ul><li>The Mixed Reality Toolkit Profile (Cloned from DefaultHoloLens2ConfigurationProfile)</li><li>The Input System Profile</li><li>The Input Simulation Profile</li></ul><p>Then you have to expand the "Input Simulation Service" section, scroll all the way down to "Hand Gesture Settings" and change the settings there as follows:</p><p><img style="border: 0px currentcolor; border-image: none; background-image: none;" src="https://www.schaikweb.net/blog/20191107/6_gesturesettings.png" border="0"></p><p>These are my default settings - but for this demo actually only the top setting is important (Default Hand Gesture to "Flat")</p><h2>Testing the menu</h2><p>I think it's safe to say that most of the people reading this - including me - don't have a HoloLens 2. Fortunately you can test this quite easily in the editor. To get to the point shown in the first picture in this post, simply do the following:</p><ol><li>Start play mode</li><li>Move the mouse cursor inside the game window</li><li>Press the Space bar and keep it down- the right hand should now appear</li><li>While keeping the space bar pressed down, also press the left control key on your keyboard and keep it down</li><li>With your other hand, slowly move the mouse to the left. The hand should now start to rotate in stead of move</li><li>When you have rotated the hand just past the 90Â° angle, the menu should appear.</li></ol><h2>Making it actually do something</h2><p>You might have noticed the buttons don't do anything at this stage. So I created a little helper behaviour that shows "Yes" or "No" depending on which button you press. It's not very sophisticated:</p><ul><li>It simply follows the actual hand menu around</li><li>It has a public method "ShowYes" and "ShowNo" that can be hooked up to the buttons to show something when they are pressed.</li></ul><p>It sits in a "ResponseHelper" game object and the hookup to the button is therefore simple, as the YesButton shows:</p><p><img src="https://www.schaikweb.net/blog/20191107/7_buttonhookup.png"></p><p>The actual working is displayed in this little video:</p><iframe width="650" height="365" src="https://www.youtube.com/embed/YEHY88zZGI4" frameborder="0" allowfullscreen="" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe><p>The trick to make the right hand stay while you operate the left hand is:</p><ul><li>Press Y once the right hand is in the desired position and rotation</li><li>Release space bar and control key (right hand stays where it is, you are just longer controlling it)</li><li>Press the left shift key - the left hand should now appear</li><li>While keeping the left shift key pressed, you can move the left hand with the mouse. To move it forward and backward like in the movie, rotate the mouse wheel. This way you can actually make the index finger touch the buttons</li></ul><h2>Conclusion</h2><p>Building a hand palm menu is really easy and basically requires no code. How this will work on a real HoloLens 2 - only time will tell. In the mean time you can find the demo project <a href="https://github.com/LocalJoost/HandPalmMenu" target="_blank">here</a>.</p>
